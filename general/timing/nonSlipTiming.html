<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Non-slip timing for imaging &mdash; PsychoPy v1.8</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.84.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="PsychoPy v1.8" href="../../index.html" />
    <link rel="up" title="Timing Issues and synchronisation" href="timing.html" />
    <link rel="next" title="Detecting dropped frames" href="detectingFrameDrops.html" />
    <link rel="prev" title="Timing Issues and synchronisation" href="timing.html" /> 
  </head>
  <body>


<div id="header"  style="background-color: white">
<table width="100%" cellpadding="10">
<tr><td style="text-align:left;vertical-align:middle">
<a href='http://www.psychopy.org'><img src="../../_static/psychopyDocBanner2.gif" alt="PsychoPy logo" /></a>
</td><td style="text-align:right;vertical-align:middle">
<a href='http://www.nottingham.ac.uk'><img src="../../_static/nott_logo.png" alt="University of Nottingham" /></a>
</td></table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="detectingFrameDrops.html" title="Detecting dropped frames"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="timing.html" title="Timing Issues and synchronisation"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../general.html" >General issues</a> &raquo;</li>
          <li><a href="timing.html" accesskey="U">Timing Issues and synchronisation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Non-slip timing for imaging</a><ul>
<li><a class="reference internal" href="#non-slip-timing-from-the-builder">Non-slip timing from the Builder</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="timing.html"
                                  title="previous chapter">Timing Issues and synchronisation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="detectingFrameDrops.html"
                                  title="next chapter">Detecting dropped frames</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/general/timing/nonSlipTiming.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>

            <h3>Quick links</h3>
            <ul>
            <li><a href="https://github.com/psychopy/psychopy/releases"><strong>Download</strong></a></li>
            <li><a href="http://groups.google.com/group/psychopy-users">Mailing list (users)</a></li>
            <li><a href="http://twitter.com/psychopy">Twitter</a></li>
            </ul>

            <!-- facebook like -->
            <div id="fb-root"></div><script src="http://connect.facebook.net/en_US/all.js#appId=122767831154831&amp;xfbml=1"></script>
            <fb:like href="http://www.facebook.com/pages/PsychoPy/140222406067597" send="false" layout="button_count" width="300" show_faces="false" action="like" font=""></fb:like>

            <!-- google +1 -->
            <!-- Place this tag where you want the +1 button to render -->
            <g:plusone count="false" href="http://www.psychopy.org"></g:plusone>
            <!-- Place this tag after the last plusone tag -->
            <script type="text/javascript">
              window.___gcfg = {lang: 'en-GB'};
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>

          <div id="searchbox" style="display: none">
            <h3>Searches</h3>
            <form action="http://www.google.com/cse" id="cse-search-box">
                <input type="hidden" name="cx" value="partner-pub-0861691574026297:eyw5n7-ugep" />
                <input type="hidden" name="ie" value="ISO-8859-1" />
                <input type="text" name="q" size="20" />
                <input type="submit" name="sa" value="Go" />
            </form>
              <p class="searchtip" style="font-size: 90%">
              General
              </p>
            <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Docs only
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="non-slip-timing-for-imaging">
<span id="nonslip"></span><h1>Non-slip timing for imaging<a class="headerlink" href="#non-slip-timing-for-imaging" title="Permalink to this headline">¶</a></h1>
<p>For most behavioural/psychophysics studies timing is most simply controlled by setting some timer (e.g. a <a class="reference internal" href="../../api/core.html#psychopy.core.Clock" title="psychopy.core.Clock"><code class="xref py py-class docutils literal"><span class="pre">Clock()</span></code></a>) to zero and waiting until it has reached a certain value before ending the trial. We might call this a &#8216;relative&#8217; timing method, because everything is timed from the start of the trial/epoch. In reality this will cause an overshoot of some fraction of one screen refresh period (10ms, say). For imaging (EEG/MEG/fMRI) studies adding 10ms to each trial repeatedly for 10 minutes will become a problem, however. After 100 stimulus presentations your stimulus and scanner will be de-synchronised by 1 second.</p>
<p>There are two ways to get around this:</p>
<blockquote>
<div><ol class="arabic simple">
<li><em>Time by frames</em> If you are confident that you <a class="reference internal" href="detectingFrameDrops.html#detectdroppedframes"><span>aren&#8217;t dropping frames</span></a> then you could base your timing on frames instead to avoid the problem.</li>
<li><em>Non-slip (global) clock timing</em> The other way, which for imaging is probably the most sensible, is to arrange timing based on a global clock rather than on a relative timing method. At the start of each trial you add the (known) duration that the trial will last to a <em>global</em> timer and then wait until that timer reaches the necessary value. To facilitate this, the PsychoPy <a class="reference internal" href="../../api/core.html#psychopy.core.Clock" title="psychopy.core.Clock"><code class="xref py py-class docutils literal"><span class="pre">Clock()</span></code></a> was given a new <cite>add()</cite> method as of version 1.74.00 and a <a class="reference internal" href="../../api/core.html#psychopy.core.CountdownTimer" title="psychopy.core.CountdownTimer"><code class="xref py py-class docutils literal"><span class="pre">CountdownTimer()</span></code></a> was also added.</li>
</ol>
</div></blockquote>
<p>The non-slip method can only be used in cases where the trial is of a known duration at its start. It cannot, for example, be used if the trial ends when the subject makes a response, as would occur in most behavioural studies.</p>
<div class="section" id="non-slip-timing-from-the-builder">
<h2>Non-slip timing from the Builder<a class="headerlink" href="#non-slip-timing-from-the-builder" title="Permalink to this headline">¶</a></h2>
<p>(new feature as of version 1.74.00)</p>
<p>When creating experiments in the <a class="reference internal" href="../../builder/builder.html#builder"><span>Builder</span></a>, PsychoPy will attempt to identify whether a particular <a class="reference internal" href="../../builder/routines.html#routines"><span>Routine</span></a> has a known endpoint in seconds. If so then it will use non-slip timing for this Routine based on a global countdown timer called <cite>routineTimer</cite>. Routines that are able to use this non-slip method are shown in green in the <a class="reference internal" href="../../builder/flow.html#flow"><span>Flow</span></a>, whereas Routines using relative timing are shown in red. So, if you are using PsychoPy for imaging studies then make sure that all the Routines within your loop of epochs are showing as green. (Typically your study will also have a Routine at the start waiting for the first scanner pulse and this will use relative timing, which is appropriate).</p>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="detectingFrameDrops.html" title="Detecting dropped frames"
             >next</a> |</li>
        <li class="right" >
          <a href="timing.html" title="Timing Issues and synchronisation"
             >previous</a> |</li>
        <li><a href="../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../general.html" >General issues</a> &raquo;</li>
          <li><a href="timing.html" >Timing Issues and synchronisation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2015, Jonathan Peirce.
      Last updated on Mar 30, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.3.
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        var pageTracker = _gat._getTracker("UA-4089651-2");
        pageTracker._initData();
        pageTracker._trackPageview();
    </script>

    <script type="text/javascript" src="http://www.ohloh.net/p/17081/widgets/project_partner_badge.js"></script>
    </div>
  </body>
</html>